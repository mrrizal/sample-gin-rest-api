- pipeline: "deploy to heroku"
  trigger_mode: "ON_EVERY_PUSH"
  ref_name: "master"
  ref_type: "BRANCH"
  fail_on_prepare_env_warning: true
  trigger_condition: "ALWAYS"
  actions:
    - action: "Execute: go build"
      type: "BUILD"
      working_directory: "/src/github.com/mrrizal/sample-gin-rest-api"
      docker_image_name: "library/golang"
      docker_image_tag: "1.13.8"
      execute_commands:
      - "export GOPATH=/"
      - "export GO15VENDOREXPERIMENT=1"
      - "go test"
      - "go build"
      volume_mappings:
      - "/:/src/github.com/mrrizal/sample-gin-rest-api"
      trigger_condition: "ALWAYS"
      shell: "BASH"